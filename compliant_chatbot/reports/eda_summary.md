# Exploratory Data Analysis and Data Preprocessing Summary

This section details the initial exploration and preparation of the Consumer Financial Protection Bureau (CFPB) complaint dataset, serving as the foundational step for the Retrieval-Augmented Generation (RAG) pipeline.

The raw dataset, comprising over 9.6 million entries, was initially loaded, focusing on key columns: `Product`, `Consumer complaint narrative`, `Company`, `Issue`, and `Date received` to manage memory footprint. Initial analysis of the 'Product' distribution revealed a wide array of financial products, with "Credit reporting or other personal consumer reports" being the most dominant category. For this project, the dataset was filtered to include only complaints related to five specific product categories: Credit Card, Personal Loan, Buy Now, Pay Later (BNPL), Savings Account, and Money Transfers. It's noteworthy that a distinct 'Buy Now, Pay Later (BNPL)' product category was not explicitly found in the 'Product' column of the raw dataset; therefore, filtering relied on the closest available product classifications.

## Consumer Complaint Narrative
A critical finding from the "Consumer complaint narrative" analysis was the high percentage of missing narratives. Approximately 69% of the original 9.6 million complaints lacked a consumer narrative. These records were systematically removed to ensure the RAG pipeline operates solely on substantive complaint text. Furthermore, the analysis of narrative lengths (word count) showed a wide distribution, with a mean length of about 54 words and some complaints extending over 6,000 words, indicating varying levels of detail. The cleaning process involved lowercasing text, removing boilerplate phrases, redacting personal identifiable information (PII) represented by sequences of 'x', and eliminating numbers and special characters, followed by whitespace normalization.

## Filtering Dataset
After filtering by the specified product categories and rigorously removing records with missing or empty consumer complaint narratives, the dataset was significantly reduced. The final cleaned and filtered dataset consists of **465,679 rows and 5 columns**. This refined dataset forms the high-quality foundation for subsequent text chunking, embedding, and vector store indexing, ensuring the RAG system processes relevant and clean complaint information.